#! /usr/bin/env bash

declare sub_cmd_name= sub_cmd_exec= options=

# attribute stripped values
sub_cmd_name=$1
options="${@:2}"


# form subcommand exec pathname
resolved_path="${sub_cmd_pathname}/${sub_cmd_name}"
sub_cmd_exec="${resolved_path}/.exec"

# throw error if not exec file not found
[[ ! -f $sub_cmd_exec ]] && echo "Subcommand \"${sub_cmd_name}\" not found" && exit 1

# check if options is provided and parse it
[[ -n $options ]] && options_parser $options

# export sub_command_path
declare -x cwd=$resolved_path

# execute subcommand
bash $sub_cmd_exec

