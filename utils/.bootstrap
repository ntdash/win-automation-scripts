#! /usr/bin/env bash

cmd_name=$1

# command args
argv=${@:2}


# command should be provied other wise quit
[[ -z $cmd_name ]] && exit 1;


# source files global files
g_partials=( "helper" "profile" "cleanup" )
partials_bname=$(dirname $0)

for g_file in ${g_partials[@]}
do

	g_filename="${partials_bname}/g.${g_file}"

	[[ ! -f $g_filename ]] && echo "$g_filename is missing" && exit

	# source file if exists
	source $g_filename

done

exec_pathanme="${scripts_path}/commands/${cmd_name}/.exec"

[[ ! -f $exec_pathanme ]] && echo "Command: ${cmd_name}'s .exec file is missing."

bash $exec_pathanme $argv
